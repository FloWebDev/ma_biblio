{% extends 'base.html.twig' %}

{% block title %}Liste des catégories{% endblock %}

{% block body %}
<section class="page-section mt-5" id="category_list">
    <div class="container">
        <h2 class="page-section-heading text-left text-uppercase text-secondary mb-0">Liste des catégories</h2>

    <table class="table mt-3">
        <thead>
            <tr>
                <th>ID</th>
                <th>Reference</th>
                <th>Intitulé</th>
                <th>CSS</th>
                <th>Ordre</th>
                <th>Nb. livres</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for category in categories %}
            <tr>
                <td>{{ category.id }}</td>
                <td>{{ category.reference }}{% if category.reference == 'master' %} <i class="fas fa-asterisk text-danger"></i>{% endif %}</td>
                <td>{{ category.name }}</td>
                <td>{{ category.css }}</td>
                <td>{{ category.orderZ }}</td>
                <td>{{ category.books|length }}</td>
                <td>
                    <a href="{{ path('category_edit', {id: category.id}) }}" class="card-link"><i class="fas fa-edit"></i> Modifier</a>
                    <a href="{{ path('category_delete', {id: category.id}) }}" class="card-link btn_delete"><i class="fas fa-trash-alt"></i> Supprimer</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="6">Aucune Catégorie</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('category_new') }}">Créer une catégorie</a>
</div>
</section>
{% endblock %}
