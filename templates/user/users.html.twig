{% extends 'base.html.twig' %}

{% block title %}Annuaire des membres - {{ website_title }}{% endblock %}

{% block body %}
<section class="page-section mt-5" id="update">
    <div class="container">
        <h2 class="page-section-heading text-left text-uppercase text-secondary mb-0">Annuaire des membres</h2>

        <div class="row mt-3">
            {{ knp_pagination_render(users) }}
        </div>

<div class="alert alert-warning alert-dismissible fade show mt-3 text-center" role="alert">
  Seuls les utilisateurs ayant un profil <strong>public</strong> sont affichés.
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

{% if users|length > 0 %}
<ul class="list-group mt-3">
    {% for user in users %}
        <a href="{{ path('dashboard', {slug: user.slug}) }}"><li class="list-group-item d-flex justify-content-between align-items-center mb-1">
        {{ user.username|capitalize }} {% if user.role.code == 'ROLE_ADMIN' %}<i class="far fa-star"></i>{% endif %}
        <span class="badge badge-primary badge-pill" data-toggle="tooltip" data-placement="bottom" title="Nombre de livres dans sa bibliothèque">{{ user.books|length }}</span>
        </li></a>
    {% endfor %}
  </ul>
{% else %}
<p class="mt-3">Aucun membre.</p>
{% endif %}

        <div class="row mt-3">
            {{ knp_pagination_render(users) }}
        </div>

    </div>
</section>

{% endblock %}
